import{r as b,j as r,f as T,u as j,a as L,B as R,c as A,g as P,b as C,p as _e,e as Ie,d as ie,h as xe,L as je,S as B,T as se,i as we,k as de,l as ue,m as Ne}from"./index-BLNac91W.js";import{u as Ee,M as ze,P as pe,A as $e,S as V,a as Pe}from"./useIntersectionObserver-BMzLtYJ0.js";const Re=(t,e)=>{const s=b.useRef(t),a=b.useRef(null);b.useEffect(()=>{s.current=t},[t]);const n=b.useCallback(()=>{a.current&&clearTimeout(a.current)},[]);return[b.useMemo(()=>{const c=(...o)=>{s.current(...o)};return(...o)=>{n(),a.current=setTimeout(()=>c(...o),e)}},[n]),n]};function We(t=null){const e=b.createContext(t);return[({children:n,value:i})=>r.jsx(e.Provider,{value:i,children:n}),()=>b.useContext(e)]}const[Be,X]=We({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var _={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const ae={},Ce=A((t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${P(e)} - ${C(2)})`}})),G=T((t,e)=>{const s=j("InputDescription",ae,t),{classNames:a,className:n,style:i,styles:c,unstyled:o,vars:p,size:m,__staticSelector:g,__inheritStyles:S=!0,variant:I,...h}=j("InputDescription",ae,s),d=X(),u=L({name:["InputWrapper",g],props:s,classes:_,className:n,style:i,classNames:a,styles:c,unstyled:o,rootSelector:"description",vars:p,varsResolver:Ce}),f=S&&(d==null?void 0:d.getStyles)||u;return r.jsx(R,{component:"p",ref:e,variant:I,size:m,...f("description",d!=null&&d.getStyles?{className:n,style:i}:void 0),...h})});G.classes=_;G.displayName="@mantine/core/InputDescription";const Le={},ke=A((t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${P(e)} - ${C(2)})`}})),H=T((t,e)=>{const s=j("InputError",Le,t),{classNames:a,className:n,style:i,styles:c,unstyled:o,vars:p,size:m,__staticSelector:g,__inheritStyles:S=!0,variant:I,...h}=s,d=L({name:["InputWrapper",g],props:s,classes:_,className:n,style:i,classNames:a,styles:c,unstyled:o,rootSelector:"error",vars:p,varsResolver:ke}),u=X(),f=S&&(u==null?void 0:u.getStyles)||d;return r.jsx(R,{component:"p",ref:e,variant:I,size:m,...f("error",u!=null&&u.getStyles?{className:n,style:i}:void 0),...h})});H.classes=_;H.displayName="@mantine/core/InputError";const ce={labelElement:"label"},qe=A((t,{size:e})=>({label:{"--input-label-size":P(e),"--input-asterisk-color":void 0}})),J=T((t,e)=>{const s=j("InputLabel",ce,t),{classNames:a,className:n,style:i,styles:c,unstyled:o,vars:p,labelElement:m,size:g,required:S,htmlFor:I,onMouseDown:h,children:d,__staticSelector:u,variant:f,mod:E,...v}=j("InputLabel",ce,s),l=L({name:["InputWrapper",u],props:s,classes:_,className:n,style:i,classNames:a,styles:c,unstyled:o,rootSelector:"label",vars:p,varsResolver:qe}),x=X(),k=(x==null?void 0:x.getStyles)||l;return r.jsxs(R,{...k("label",x!=null&&x.getStyles?{className:n,style:i}:void 0),component:m,variant:f,size:g,ref:e,htmlFor:m==="label"?I:void 0,mod:[{required:S},E],onMouseDown:w=>{h==null||h(w),!w.defaultPrevented&&w.detail>1&&w.preventDefault()},...v,children:[d,S&&r.jsx("span",{...k("required"),"aria-hidden":!0,children:" *"})]})});J.classes=_;J.displayName="@mantine/core/InputLabel";const le={},re=T((t,e)=>{const s=j("InputPlaceholder",le,t),{classNames:a,className:n,style:i,styles:c,unstyled:o,vars:p,__staticSelector:m,variant:g,error:S,mod:I,...h}=j("InputPlaceholder",le,s),d=L({name:["InputPlaceholder",m],props:s,classes:_,className:n,style:i,classNames:a,styles:c,unstyled:o,rootSelector:"placeholder"});return r.jsx(R,{...d("placeholder"),mod:[{error:!!S},I],component:"span",variant:g,ref:e,...h})});re.classes=_;re.displayName="@mantine/core/InputPlaceholder";function Te(t,{hasDescription:e,hasError:s}){const a=t.findIndex(p=>p==="input"),n=t.slice(0,a),i=t.slice(a+1),c=e&&n.includes("description")||s&&n.includes("error");return{offsetBottom:e&&i.includes("description")||s&&i.includes("error"),offsetTop:c}}const Ae={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},De=A((t,{size:e})=>({label:{"--input-label-size":P(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${P(e)} - ${C(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${P(e)} - ${C(2)})`}})),ne=T((t,e)=>{const s=j("InputWrapper",Ae,t),{classNames:a,className:n,style:i,styles:c,unstyled:o,vars:p,size:m,variant:g,__staticSelector:S,inputContainer:I,inputWrapperOrder:h,label:d,error:u,description:f,labelProps:E,descriptionProps:v,errorProps:l,labelElement:x,children:k,withAsterisk:w,id:D,required:Y,__stylesApiProps:Z,mod:ee,...oe}=s,M=L({name:["InputWrapper",S],props:Z||s,classes:_,className:n,style:i,classNames:a,styles:c,unstyled:o,vars:p,varsResolver:De}),z={size:m,variant:g,__staticSelector:S},$=Ee(D),te=typeof w=="boolean"?w:Y,O=(l==null?void 0:l.id)||`${$}-error`,U=(v==null?void 0:v.id)||`${$}-description`,F=$,q=!!u&&typeof u!="boolean",y=!!f,K=`${q?O:""} ${y?U:""}`,W=K.trim().length>0?K.trim():void 0,Q=(E==null?void 0:E.id)||`${$}-label`,fe=d&&r.jsx(J,{labelElement:x,id:Q,htmlFor:F,required:te,...z,...E,children:d},"label"),ve=y&&r.jsx(G,{...v,...z,size:(v==null?void 0:v.size)||z.size,id:(v==null?void 0:v.id)||U,children:f},"description"),ye=r.jsx(b.Fragment,{children:I(k)},"input"),Se=q&&b.createElement(H,{...l,...z,size:(l==null?void 0:l.size)||z.size,key:"error",id:(l==null?void 0:l.id)||O},u),ge=h.map(be=>{switch(be){case"label":return fe;case"input":return ye;case"description":return ve;case"error":return Se;default:return null}});return r.jsx(Be,{value:{getStyles:M,describedBy:W,inputId:F,labelId:Q,...Te(h,{hasDescription:y,hasError:q})},children:r.jsx(R,{ref:e,variant:g,size:m,mod:[{error:!!u},ee],...M("root"),...oe,children:ge})})});ne.classes=_;ne.displayName="@mantine/core/InputWrapper";const Me={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Oe=A((t,e,s)=>({wrapper:{"--input-margin-top":s.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":s.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":ie(e.size,"input-height"),"--input-fz":P(e.size),"--input-radius":e.radius===void 0?void 0:xe(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?C(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?C(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?ie(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}})),N=_e((t,e)=>{const s=j("Input",Me,t),{classNames:a,className:n,style:i,styles:c,unstyled:o,required:p,__staticSelector:m,__stylesApiProps:g,size:S,wrapperProps:I,error:h,disabled:d,leftSection:u,leftSectionProps:f,leftSectionWidth:E,rightSection:v,rightSectionProps:l,rightSectionWidth:x,rightSectionPointerEvents:k,leftSectionPointerEvents:w,variant:D,vars:Y,pointer:Z,multiline:ee,radius:oe,id:M,withAria:z,withErrorStyles:$,mod:te,inputSize:O,...U}=s,{styleProps:F,rest:q}=Ie(U),y=X(),K={offsetBottom:y==null?void 0:y.offsetBottom,offsetTop:y==null?void 0:y.offsetTop},W=L({name:["Input",m],props:g||s,classes:_,className:n,style:i,classNames:a,styles:c,unstyled:o,stylesCtx:K,rootSelector:"wrapper",vars:Y,varsResolver:Oe}),Q=z?{required:p,disabled:d,"aria-invalid":!!h,"aria-describedby":y==null?void 0:y.describedBy,id:(y==null?void 0:y.inputId)||M}:{};return r.jsxs(R,{...W("wrapper"),...F,...I,mod:[{error:!!h&&$,pointer:Z,disabled:d,multiline:ee,"data-with-right-section":!!v,"data-with-left-section":!!u},te],variant:D,size:S,children:[u&&r.jsx("div",{...f,"data-position":"left",...W("section",{className:f==null?void 0:f.className,style:f==null?void 0:f.style}),children:u}),r.jsx(R,{component:"input",...q,...Q,ref:e,required:p,mod:{disabled:d,error:!!h&&$},variant:D,__size:O,...W("input")}),v&&r.jsx("div",{...l,"data-position":"right",...W("section",{className:l==null?void 0:l.className,style:l==null?void 0:l.style}),children:v})]})});N.classes=_;N.Wrapper=ne;N.Label=J;N.Error=H;N.Description=G;N.Placeholder=re;N.displayName="@mantine/core/Input";const Ue=({onSearch:t,searchValue:e})=>{const[s,a]=Re(t,700),[n,i]=b.useState(e??""),c=o=>{o?s(o):a(),i(o)};return b.useEffect(()=>{i(n)},[e]),r.jsx(N,{size:"xl",placeholder:"Type somethings to search...",leftSection:r.jsx(ze,{size:30}),value:n,onChange:o=>c(o.target.value),radius:"lg"})},Fe="_root_w83zw_1",me={root:Fe},Ke=({user:t})=>r.jsxs(pe,{p:"md",radius:"lg",shadow:"sm",withBorder:!0,className:me.root,component:je,to:`/users/${t.login}`,c:"inherit",td:"none",children:[r.jsx($e,{src:t.avatarUrl,size:"xl"}),r.jsxs(B,{gap:8,children:[r.jsx(se,{fw:"bold",fz:"lg",children:t.login}),r.jsx(se,{mb:12,fz:"md",children:t.name})]}),!!t.id&&r.jsxs(se,{miw:0,mt:"auto",fw:"bold",truncate:!0,ta:"end",children:["ID: ",t.id]})]}),Qe=(...t)=>{var p,m;const{data:e,fetchMore:s,...a}=we(...t),n=e==null?void 0:e.search.pageInfo.hasNextPage,i=(m=(p=e==null?void 0:e.search)==null?void 0:p.pageInfo)==null?void 0:m.endCursor,c=e==null?void 0:e.search.nodes,o=b.useCallback(()=>s({variables:{after:i}}),[s,i]);return{...a,fetchMore:o,hasNext:n,users:c}},he="(min-width: 36em)",Ve=()=>{const t=de(he);return r.jsxs(pe,{p:"md",radius:"lg",shadow:"sm",withBorder:!0,className:me.root,children:[r.jsx(V,{animate:!0,circle:!0,height:84}),r.jsxs(B,{gap:"lg",mt:8,children:[r.jsx(V,{radius:8,height:10,w:100}),r.jsx(V,{radius:8,height:10,w:100})]}),r.jsx(V,{mt:"auto",ml:t?"auto":0,radius:8,height:10,w:160})]})},Xe=16,Ge=5,He=3,Je=()=>{const[t]=ue(),e=de(he),{users:s,loading:a,fetchMore:n,hasNext:i}=Qe({variables:{query:t.get("q")??"",limit:Xe},skip:!t.get("q")}),[c]=Pe({onChange:o=>i&&o&&n()});return r.jsxs(B,{mih:400,pos:"relative",children:[a&&r.jsx(Ne,{}),r.jsx(B,{component:"ul",pl:0,children:s==null?void 0:s.map(o=>r.jsx(Ke,{user:o},o.login))}),r.jsx(B,{ref:c,children:i&&[...new Array(e?Ge:He)].map(o=>r.jsx(Ve,{}))})]})},et=()=>{const[t,e]=ue(),s=a=>{e(n=>({...n,q:a}))};return r.jsxs(B,{mt:80,gap:56,children:[r.jsx(Ue,{onSearch:s,searchValue:t.get("q")??""}),r.jsx(Je,{})]})};export{et as default};
