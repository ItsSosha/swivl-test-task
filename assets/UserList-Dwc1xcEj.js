import{r as b,j as r,f as q,u as w,a as R,B as P,c as F,g as B,b as N,p as pe,e as _e,d as ae,h as ue,i as je,k as we,l as Ne,I as Pe,m as $e,L as Ee,S as E,T as re,n as Re,o as me,q as ze}from"./index-Cxu00haL.js";import{u as ke,M as We,P as he,A as Be}from"./index-DHtwOfgO.js";const Ce=(t,e)=>{const s=b.useRef(t),o=b.useRef(null);b.useEffect(()=>{s.current=t},[t]);const n=b.useCallback(()=>{o.current&&clearTimeout(o.current)},[]);return[b.useMemo(()=>{const l=(...i)=>{s.current(...i)};return(...i)=>{n(),o.current=setTimeout(()=>l(...i),e)}},[n]),n]};function Le(t=null){const e=b.createContext(t);return[({children:n,value:a})=>r.jsx(e.Provider,{value:a,children:n}),()=>b.useContext(e)]}const[qe,X]=Le({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var _={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const le={},Fe=F((t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${B(e)} - ${N(2)})`}})),Y=q((t,e)=>{const s=w("InputDescription",le,t),{classNames:o,className:n,style:a,styles:l,unstyled:i,vars:u,size:f,__staticSelector:S,__inheritStyles:v=!0,variant:x,...h}=w("InputDescription",le,s),c=X(),d=R({name:["InputWrapper",S],props:s,classes:_,className:n,style:a,classNames:o,styles:l,unstyled:i,rootSelector:"description",vars:u,varsResolver:Fe}),m=v&&(c==null?void 0:c.getStyles)||d;return r.jsx(P,{component:"p",ref:e,variant:x,size:f,...m("description",c!=null&&c.getStyles?{className:n,style:a}:void 0),...h})});Y.classes=_;Y.displayName="@mantine/core/InputDescription";const Te={},Ae=F((t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${B(e)} - ${N(2)})`}})),H=q((t,e)=>{const s=w("InputError",Te,t),{classNames:o,className:n,style:a,styles:l,unstyled:i,vars:u,size:f,__staticSelector:S,__inheritStyles:v=!0,variant:x,...h}=s,c=R({name:["InputWrapper",S],props:s,classes:_,className:n,style:a,classNames:o,styles:l,unstyled:i,rootSelector:"error",vars:u,varsResolver:Ae}),d=X(),m=v&&(d==null?void 0:d.getStyles)||c;return r.jsx(P,{component:"p",ref:e,variant:x,size:f,...m("error",d!=null&&d.getStyles?{className:n,style:a}:void 0),...h})});H.classes=_;H.displayName="@mantine/core/InputError";const ce={labelElement:"label"},De=F((t,{size:e})=>({label:{"--input-label-size":B(e),"--input-asterisk-color":void 0}})),J=q((t,e)=>{const s=w("InputLabel",ce,t),{classNames:o,className:n,style:a,styles:l,unstyled:i,vars:u,labelElement:f,size:S,required:v,htmlFor:x,onMouseDown:h,children:c,__staticSelector:d,variant:m,mod:j,...y}=w("InputLabel",ce,s),p=R({name:["InputWrapper",d],props:s,classes:_,className:n,style:a,classNames:o,styles:l,unstyled:i,rootSelector:"label",vars:u,varsResolver:De}),I=X(),T=(I==null?void 0:I.getStyles)||p;return r.jsxs(P,{...T("label",I!=null&&I.getStyles?{className:n,style:a}:void 0),component:f,variant:m,size:S,ref:e,htmlFor:f==="label"?x:void 0,mod:[{required:v},j],onMouseDown:$=>{h==null||h($),!$.defaultPrevented&&$.detail>1&&$.preventDefault()},...y,children:[c,v&&r.jsx("span",{...T("required"),"aria-hidden":!0,children:" *"})]})});J.classes=_;J.displayName="@mantine/core/InputLabel";const de={},ne=q((t,e)=>{const s=w("InputPlaceholder",de,t),{classNames:o,className:n,style:a,styles:l,unstyled:i,vars:u,__staticSelector:f,variant:S,error:v,mod:x,...h}=w("InputPlaceholder",de,s),c=R({name:["InputPlaceholder",f],props:s,classes:_,className:n,style:a,classNames:o,styles:l,unstyled:i,rootSelector:"placeholder"});return r.jsx(P,{...c("placeholder"),mod:[{error:!!v},x],component:"span",variant:S,ref:e,...h})});ne.classes=_;ne.displayName="@mantine/core/InputPlaceholder";function Oe(t,{hasDescription:e,hasError:s}){const o=t.findIndex(u=>u==="input"),n=t.slice(0,o),a=t.slice(o+1),l=e&&n.includes("description")||s&&n.includes("error");return{offsetBottom:e&&a.includes("description")||s&&a.includes("error"),offsetTop:l}}const Ge={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},Ue=F((t,{size:e})=>({label:{"--input-label-size":B(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${B(e)} - ${N(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${B(e)} - ${N(2)})`}})),oe=q((t,e)=>{const s=w("InputWrapper",Ge,t),{classNames:o,className:n,style:a,styles:l,unstyled:i,vars:u,size:f,variant:S,__staticSelector:v,inputContainer:x,inputWrapperOrder:h,label:c,error:d,description:m,labelProps:j,descriptionProps:y,errorProps:p,labelElement:I,children:T,withAsterisk:$,id:D,required:Z,__stylesApiProps:ee,mod:te,...ie}=s,O=R({name:["InputWrapper",v],props:ee||s,classes:_,className:n,style:a,classNames:o,styles:l,unstyled:i,vars:u,varsResolver:Ue}),k={size:f,variant:S,__staticSelector:v},W=ke(D),se=typeof $=="boolean"?$:Z,G=(p==null?void 0:p.id)||`${W}-error`,U=(y==null?void 0:y.id)||`${W}-description`,M=W,A=!!d&&typeof d!="boolean",g=!!m,V=`${A?G:""} ${g?U:""}`,C=V.trim().length>0?V.trim():void 0,Q=(j==null?void 0:j.id)||`${W}-label`,ve=c&&r.jsx(J,{labelElement:I,id:Q,htmlFor:M,required:se,...k,...j,children:c},"label"),ge=g&&r.jsx(Y,{...y,...k,size:(y==null?void 0:y.size)||k.size,id:(y==null?void 0:y.id)||U,children:m},"description"),Se=r.jsx(b.Fragment,{children:x(T)},"input"),xe=A&&b.createElement(H,{...p,...k,size:(p==null?void 0:p.size)||k.size,key:"error",id:(p==null?void 0:p.id)||G},d),be=h.map(Ie=>{switch(Ie){case"label":return ve;case"input":return Se;case"description":return ge;case"error":return xe;default:return null}});return r.jsx(qe,{value:{getStyles:O,describedBy:C,inputId:M,labelId:Q,...Oe(h,{hasDescription:g,hasError:A})},children:r.jsx(P,{ref:e,variant:S,size:f,mod:[{error:!!d},te],...O("root"),...ie,children:be})})});oe.classes=_;oe.displayName="@mantine/core/InputWrapper";const Me={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Ve=F((t,e,s)=>({wrapper:{"--input-margin-top":s.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":s.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":ae(e.size,"input-height"),"--input-fz":B(e.size),"--input-radius":e.radius===void 0?void 0:ue(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?N(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?N(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?ae(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}})),z=pe((t,e)=>{const s=w("Input",Me,t),{classNames:o,className:n,style:a,styles:l,unstyled:i,required:u,__staticSelector:f,__stylesApiProps:S,size:v,wrapperProps:x,error:h,disabled:c,leftSection:d,leftSectionProps:m,leftSectionWidth:j,rightSection:y,rightSectionProps:p,rightSectionWidth:I,rightSectionPointerEvents:T,leftSectionPointerEvents:$,variant:D,vars:Z,pointer:ee,multiline:te,radius:ie,id:O,withAria:k,withErrorStyles:W,mod:se,inputSize:G,...U}=s,{styleProps:M,rest:A}=_e(U),g=X(),V={offsetBottom:g==null?void 0:g.offsetBottom,offsetTop:g==null?void 0:g.offsetTop},C=R({name:["Input",f],props:S||s,classes:_,className:n,style:a,classNames:o,styles:l,unstyled:i,stylesCtx:V,rootSelector:"wrapper",vars:Z,varsResolver:Ve}),Q=k?{required:u,disabled:c,"aria-invalid":!!h,"aria-describedby":g==null?void 0:g.describedBy,id:(g==null?void 0:g.inputId)||O}:{};return r.jsxs(P,{...C("wrapper"),...M,...x,mod:[{error:!!h&&W,pointer:ee,disabled:c,multiline:te,"data-with-right-section":!!y,"data-with-left-section":!!d},se],variant:D,size:v,children:[d&&r.jsx("div",{...m,"data-position":"left",...C("section",{className:m==null?void 0:m.className,style:m==null?void 0:m.style}),children:d}),r.jsx(P,{component:"input",...A,...Q,ref:e,required:u,mod:{disabled:c,error:!!h&&W},variant:D,__size:G,...C("input")}),y&&r.jsx("div",{...p,"data-position":"right",...C("section",{className:p==null?void 0:p.className,style:p==null?void 0:p.style}),children:y})]})});z.classes=_;z.Wrapper=oe;z.Label=J;z.Error=H;z.Description=Y;z.Placeholder=ne;z.displayName="@mantine/core/Input";const Qe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var ye={root:"m_8bffd616"};const Xe={},K=pe((t,e)=>{const s=w("Flex",Xe,t),{classNames:o,className:n,style:a,styles:l,unstyled:i,vars:u,gap:f,rowGap:S,columnGap:v,align:x,justify:h,wrap:c,direction:d,...m}=s,j=R({name:"Flex",classes:ye,props:s,className:n,style:a,classNames:o,styles:l,unstyled:i,vars:u}),y=je(),p=we(),I=Ne({styleProps:{gap:f,rowGap:S,columnGap:v,align:x,justify:h,wrap:c,direction:d},theme:y,data:Qe});return r.jsxs(r.Fragment,{children:[I.hasResponsiveStyles&&r.jsx(Pe,{selector:`.${p}`,styles:I.styles,media:I.media}),r.jsx(P,{ref:e,...j("root",{className:p,style:$e(I.inlineStyles)}),...m})]})});K.classes=ye;K.displayName="@mantine/core/Flex";var fe={root:"m_18320242","skeleton-fade":"m_299c329c"};const Ye={visible:!0,animate:!0},He=F((t,{width:e,height:s,radius:o,circle:n})=>({root:{"--skeleton-height":N(s),"--skeleton-width":n?N(s):N(e),"--skeleton-radius":n?"1000px":o===void 0?void 0:ue(o)}})),L=q((t,e)=>{const s=w("Skeleton",Ye,t),{classNames:o,className:n,style:a,styles:l,unstyled:i,vars:u,width:f,height:S,circle:v,visible:x,radius:h,animate:c,mod:d,...m}=s,j=R({name:"Skeleton",classes:fe,props:s,className:n,style:a,classNames:o,styles:l,unstyled:i,vars:u,varsResolver:He});return r.jsx(P,{ref:e,...j("root"),mod:[{visible:x,animate:c},d],...m})});L.classes=fe;L.displayName="@mantine/core/Skeleton";const Je=({onSearch:t,searchValue:e})=>{const[s,o]=Ce(t,700),[n,a]=b.useState(e??""),l=i=>{i?s(i):o(),a(i)};return b.useEffect(()=>{a(n)},[e]),r.jsx(z,{size:"xl",placeholder:"Type somethings to search...",leftSection:r.jsx(We,{size:30}),value:n,onChange:i=>l(i.target.value),radius:"lg"})},Ke="_root_k8o9c_1",Ze={root:Ke},et=({user:t})=>r.jsx(he,{p:"md",radius:"lg",shadow:"sm",withBorder:!0,className:Ze.root,children:r.jsxs(K,{h:"100%",w:"100%",direction:"row",columnGap:"md",c:"inherit",td:"none",align:"stretch",component:Ee,to:`/users/${t.login}`,children:[r.jsx(Be,{src:t.avatarUrl,size:"xl"}),r.jsxs(E,{gap:8,children:[r.jsx(re,{fw:"bold",fz:"lg",children:t.login}),r.jsx(re,{mb:12,fz:"md",children:t.name})]}),!!t.id&&r.jsx(E,{ml:"auto",justify:"flex-end",children:r.jsxs(re,{fw:"bold",children:["ID: ",t.id]})})]})}),tt=({initialState:t,onChange:e}={initialState:!1})=>{const[s,o]=b.useState(t??!1),n=b.useRef(null);return b.useEffect(()=>{const a=new IntersectionObserver(l=>{l.forEach(i=>{const{isIntersecting:u}=i;o(u)})});return n.current&&a.observe(n.current),()=>{a.disconnect()}},[]),b.useEffect(()=>{e==null||e(s)},[s]),[n,s]},st=(...t)=>{var l,i;const{data:e,...s}=Re(...t),o=e==null?void 0:e.search.pageInfo.hasNextPage,n=(i=(l=e==null?void 0:e.search)==null?void 0:l.pageInfo)==null?void 0:i.endCursor,a=e==null?void 0:e.search.nodes;return{...s,hasNext:o,users:a,endCursor:n}},rt=()=>r.jsx(he,{p:"md",radius:"lg",withBorder:!0,children:r.jsxs(K,{h:"100%",w:"100%",direction:"row",columnGap:"md",c:"inherit",td:"none",align:"stretch",children:[r.jsx(L,{animate:!0,circle:!0,height:84}),r.jsxs(E,{gap:"lg",mt:8,children:[r.jsx(L,{radius:8,height:10,w:100}),r.jsx(L,{radius:8,height:10,w:100})]}),r.jsx(E,{ml:"auto",justify:"flex-end",children:r.jsx(L,{radius:8,height:10,w:160})})]})}),nt=16,ot=()=>{const[t]=me(),{users:e,loading:s,fetchMore:o,hasNext:n,endCursor:a}=st({variables:{query:t.get("q")??"",limit:nt},skip:!t.get("q")}),[l]=tt({onChange:i=>n&&i&&o({variables:{after:a}})});return r.jsxs(E,{mih:400,pos:"relative",children:[s&&r.jsx(ze,{}),r.jsx(E,{component:"ul",pl:0,children:e==null?void 0:e.map(i=>{const u=i;return r.jsx(et,{user:u},u.login)})}),r.jsx(E,{ref:l,children:n&&[...new Array(5)].map(i=>r.jsx(rt,{}))})]})},lt=()=>{const[t,e]=me(),s=o=>{e(n=>({...n,q:o}))};return r.jsxs(E,{mt:80,gap:56,children:[r.jsx(Je,{onSearch:s,searchValue:t.get("q")??""}),r.jsx(ot,{})]})};export{lt as default};
